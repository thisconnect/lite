<!DOCTYPE HTML>
<html lang=en>
<head>
	<meta charset="utf-8">
	<title>Satellite</title>
	<link rel=stylesheet href="styles.css">
	
	<script src="http://localhost:8999/socket.io/socket.io.js"></script>
	<script src="support/mootools-core-1.4.5-yc.js"></script>
	<script src="support/company/Source/Company.js"></script>
	<script src="scripts/utils.js"></script>
	<script src="scripts/widget.js"></script>
	<script src="scripts/controller.js"></script>
	<script src="scripts/controller.boolean.js"></script>
	<script src="scripts/controller.integer.js"></script>
	<script src="scripts/builder.js"></script>
	<script src="scripts/selector.js"></script>
	<script src="scripts/loader.js"></script>
	<script src="scripts/connect.js"></script>
	<script>
		new Unit({
			initSetup: function(){
				this.subscribe({
					'planet connect': function(){
						this.setStatus('&#9741');
						//this.setStatus('Connected');
					},
					'planet disconnect': function(){
						this.setStatus('&#9740;');
						//this.setStatus('Disconnected');
					},
					'descriptor add': function(data){
						console.log('descriptor add', data);
					},
					'widget create': function(data){
						console.log('widget create', data);
					},
					'widget update': function(data){
						console.log('widget update', data.path || data.key, data.value);
					}
				});
			},
			readySetup: function(){
				this.status = document.id('conn-status');
			},
			setStatus: function(status){
				this.status.set('html', status);
				return this;
			}
		});
	</script>
</head>
<body>
	<header id=status>
		<div id=instrument-new>
			<label>Create new:
				<select id=instrument-list></select>
			</label>
			<button id=instrument-create>Go</button>
		</div>
		Planet <span id=conn-status></span>
	</header>
	<div id=instruments></div>
</body>
</html>
